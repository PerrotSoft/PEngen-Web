üéÆ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞ PEngen
PEngen ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å–Ω—ã–π JavaScript-–¥–≤–∏–∂–æ–∫ –¥–ª—è 2D-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π SFML. –î–≤–∏–∂–æ–∫ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: GnuEngenSFML (–≥—Ä–∞—Ñ–∏–∫–∞ –∏ –≤–≤–æ–¥) –∏ GameEngine (—Ñ–∏–∑–∏–∫–∞ –∏ –ª–æ–≥–∏–∫–∞).

üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π–ª PEngen.js –≤ –≤–∞—à HTML-–¥–æ–∫—É–º–µ–Ω—Ç.

HTML

<!DOCTYPE html>
<html>
<head>
    <title>–ú–æ—è –∏–≥—Ä–∞ –Ω–∞ PEngen</title>
</head>
<body>
    <script src="https://raw.githubusercontent.com/PerrotSoft/PEngen-Web/main/PEngen.js"></script>
    <script src="game.js"></script>
</body>
</html>
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:

–§–∞–π–ª	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
index.html	–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –¥–≤–∏–∂–æ–∫.
game.js	–í–∞—à–∞ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏ —Ü–∏–∫–ª.
res/	–ü–∞–ø–∫–∞ –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤ (—à—Ä–∏—Ñ—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞—É–¥–∏–æ).

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –î–≤–∏–∂–∫–∞
1. GnuEngenSFML (–ì—Ä–∞—Ñ–∏–∫–∞, –û–∫–Ω–æ, –í–≤–æ–¥)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –æ–±—ä–µ–∫—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–æ–º (Canvas) –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞.

–ö–ª–∞—Å—Å GnuEngenSFML (–Ø–¥—Ä–æ –≥—Ä–∞—Ñ–∏–∫–∏)
–ú–µ—Ç–æ–¥/–°–≤–æ–π—Å—Ç–≤–æ	–û–ø–∏—Å–∞–Ω–∏–µ	–ü—Ä–∏–º–µ—Ä
new GnuEngL()	–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–≤–∏–∂–∫–∞.	Program.gEngine = new GnuEngenSFML();
InitWindow(w, h, title)	–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –æ–∫–Ω–∞.	gEngine.InitWindow(800, 600, "My Game");
AddObject(obj)	–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.	gEngine.AddObject(mySprite);
Draw()	–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ).	requestAnimationFrame(loop);

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
–ö–ª–∞—Å—Å GnuEngenSFML.D2Gun (–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç)
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: —Å–ø—Ä–∞–π—Ç–æ–≤, —Ç–µ–∫—Å—Ç–∞, –∫–Ω–æ–ø–æ–∫.

–°–≤–æ–π—Å—Ç–≤–æ	–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
x, y, sx, sy	Number	–ü–æ–∑–∏—Ü–∏—è –∏ —Ä–∞–∑–º–µ—Ä—ã.
type	ObjectType	–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ (Sprite, Button, Text –∏ —Ç.–¥.).
texture	Image	–û–±—ä–µ–∫—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
onClick	Function	–û–±—Ä–∞–±–æ—Ç—á–∏–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø—Ä–∏ –∫–ª–∏–∫–µ (–¥–ª—è –∫–Ω–æ–ø–æ–∫).

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è TextButton:

JavaScript

const startBtn = new GnuEngenSFML.D2Gun();
startBtn.x = 100; 
startBtn.y = 200;
startBtn.sx = 200; 
startBtn.sy = 50;
startBtn.type = GnuEngenSFML.ObjectType.TextButton;
startBtn.text = "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É";
startBtn.font = Program.font;

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–ª–∏–∫–∞
startBtn.onClick = () => { console.log("Game Start!"); };

Program.gEngine.AddObject(startBtn);
2. GameEngine (–§–∏–∑–∏–∫–∞ –∏ –õ–æ–≥–∏–∫–∞)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Å–∏–º—É–ª—è—Ü–∏—é, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–æ–ª–ª–∏–∑–∏–∏.

–ö–ª–∞—Å—Å GameEngine.GameObject (–§–∏–∑–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç)
–û–±—ä–µ–∫—Ç—ã, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –º–∏—Ä–µ.

–°–≤–æ–π—Å—Ç–≤–æ	–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
vx, vy	Number	–°–∫–æ—Ä–æ—Å—Ç—å (Velocity) –ø–æ –æ—Å—è–º X –∏ Y.
width, height	Number	–†–∞–∑–º–µ—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ AABB –∫–æ–ª–ª–∏–∑–∏–π.
isStatic	Boolean	–ï—Å–ª–∏ true, –æ–±—ä–µ–∫—Ç –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è —Ñ–∏–∑–∏–∫–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false).
mass	Number	–ú–∞—Å—Å–∞ –æ–±—ä–µ–∫—Ç–∞ (–≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ç—Å–∫–æ–∫).
OnUpdate	Function	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä.
visual	D2Gun	–ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç.

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:

JavaScript

// 1. –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
const blockVisual = new GnuEngenSFML.D2Gun();
blockVisual.base_color = 0xFF0000; // –ö—Ä–∞—Å–Ω—ã–π
blockVisual.type = GnuEngenSFML.ObjectType.Cube;

// 2. –°–æ–∑–¥–∞–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
const blockPhysics = new GameEngine.GameObject();
blockPhysics.x = 50; 
blockPhysics.y = 50;
blockPhysics.width = 50; 
blockPhysics.height = 50;
blockPhysics.mass = 5.0;
blockPhysics.vx = 100; // –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ
blockPhysics.visual = blockVisual; // –°–≤—è–∑—ã–≤–∞–µ–º —Å –≥—Ä–∞—Ñ–∏–∫–æ–π

Program.engine.AddObject(blockPhysics);
‚è≥ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ö–ª–∞—Å—Å—ã
3.1. –ö–ª–∞—Å—Å Clock (–í—Ä–µ–º—è)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (deltaTime).

–ú–µ—Ç–æ–¥	–û–ø–∏—Å–∞–Ω–∏–µ
restart().asSeconds()	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç deltaTime (–≤—Ä–µ–º—è, –ø—Ä–æ—à–µ–¥—à–µ–µ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–∞–¥—Ä–∞) –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.
Clock.WaitSeconds(seconds)	–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π. –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ async —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ deltaTime:

JavaScript

// –í–Ω—É—Ç—Ä–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (loop)
const deltaTime = Program.engine.clock.restart().asSeconds();

// –ü—Ä–∏–º–µ—Ä –¥–≤–∏–∂–µ–Ω–∏—è, –∑–∞–≤–∏—Å—è—â–µ–≥–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
player.x += player.vx * deltaTime;
3.2. –í–≤–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º—ã—à–∏
–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–≤–æ–¥–∞.

–ö–æ–º–∞–Ω–¥–∞	–û–ø–∏—Å–∞–Ω–∏–µ
Keyboard.isKeyPressed('W')	–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞–∂–∞—Ç–∞ –ª–∏ –∫–ª–∞–≤–∏—à–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'A', 'SPACE').
Mouse.GetPosition(window)	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—É—Ä—Å–æ—Ä–∞ { x, y } –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–∫–Ω–∞.
Mouse.IsButtonPressed()	–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞–∂–∞—Ç–∞ –ª–∏ –ª–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏.

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
üß© –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°—Ü–µ–Ω–æ–π (SuperUpdate)
–ö–ª–∞—Å—Å-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–¥–æ–±–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –∏–º–µ—é—â–∏–º–∏ –∫–∞–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ, —Ç–∞–∫ –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ö–ª–∞—Å—Å SuperUpdate.GameOBJN
–ï–¥–∏–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

–°–≤–æ–π—Å—Ç–≤–æ	–û–ø–∏—Å–∞–Ω–∏–µ
name	–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ (—á–µ—Ä–µ–∑ FindObject(name)).
d2Gun	–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (GnuEngenSFML.D2Gun).
gameObject	–§–∏–∑–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (GameEngine.GameObject).
gnuType	–¢–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏).

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¢–∞–±–ª–∏—Ü—ã
‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –î–≤–∏–∂–æ–∫
–§–∞–π–ª	–û–ø–∏—Å–∞–Ω–∏–µ	–°–∫–∞—á–∞—Ç—å
PEngine.js	–û—Å–Ω–æ–≤–Ω–æ–π, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–≤–∏–∂–∫–∞.	–°–∫–∞—á–∞—Ç—å PEngine.js
Example.js	–®–∞–±–ª–æ–Ω/–ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.	–°–∫–∞—á–∞—Ç—å Example.js
